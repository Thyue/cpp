<!DOCTYPE html>
<html lang="zh-Hans-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" type="image/png" href="./img/favicon.png" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <link rel="stylesheet" href="./css/style.min.css" />
    <link rel="stylesheet" href="./css/index.min.css" />
    <title>C++ 程式設計筆記</title>
  </head>

  <body>
    <div id="app">
      <header>
        <nav class="navbar navbar-dark bg-dark">
          <a class="navbar-brand" href="./index.html">
            <img src="./img/code.png" width="30" height="30" class="d-inline-block align-top" alt="" />
          </a>
          <ul class="nav justify-content-end">
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">考題</a>
              <div class="dropdown-menu">
                <!-- |考題|考題|考題|考題|考題|考題|考題|考題|考題|考題|考題|考題|考題|考題| -->
                <button id="goto_exam_13" class="dropdown-item">學生成績資料處理</button>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">章節</a>
              <div class="dropdown-menu">
                <!-- |章節|章節|章節|章節|章節|章節|章節|章節|章節|章節|章節|章節|章節| -->
                <button id="goto_1081107_01" class="dropdown-item">結構struct</button>
                <button id="goto_1081107_02" class="dropdown-item">動態記憶體</button>
                <button id="goto_1081114_01" class="dropdown-item">字串</button>
                <button id="goto_1081114_02" class="dropdown-item">檔案操作與處理</button>
                <button id="goto_1081128_01" class="dropdown-item">應用-讓電腦猜數字</button>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="./login.html">登入</a>
            </li>
          </ul>
        </nav>
        <div class="pageTitle">
          <div class="container">
            <h1>
              <a href="./index.html">趙德柱-程式設計筆記</a>
            </h1>
            <h2>工作累積多年的程式設計經歷，樂於分享我的知識與經驗給更多的朋友學習</h2>
          </div>
        </div>
        <div id="gotop">TOP</div>
      </header>
      <article class="container mt-1">
        <div class="progress">
          <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" :style="{width : progress}">{{ progressFiliter }}</div>
        </div>
        <div class="info text-right">
          <!-- |更新|更新|更新|更新|更新|更新|更新|更新|更新| -->
          <p>更新 <span>108/11/29 (五) 22時</span></p>
          <p>{{ now | formatNowDate }}</p>
          <p>{{ now | formatNowTime }}</p>

          <div class="infoPic">
            <a href="https://www.facebook.com/w06rup3vu06"><img src="./img/facebook.png" alt="Facebook"/></a>
            <a href="https://www.instagram.com/w06rup3vu06/"><img src="./img/instagram.png" alt="Instagram"/></a>
            <a href="https://line.me/ti/p/ritEvzej_o"><img src="./img/line.png" alt="Line"/></a>
            <i id="visitor" class="fa fa-eye">
              {{ visitor }}
            </i>
          </div>
        </div>
        <button type="button" class="btn btn-success btn-lg btn-block mt-3 mb-3" onclick="location.replace('./midterm.html');">&gt;&gt;期中考內容回顧&lt;&lt;</button>
        <!-- |文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始|文章開始| -->
        <!-- =========================[C++]結構struct========================= -->
        <div id="1081107_01">
          <div class="artHeader">
            <div class="artTime">
              <span class="artTime">2019-11-07</span>
            </div>
            <h3>[C++]結構：struct</h3>
          </div>
          <div class="artContent mt-1">
            <p>
              struct 是 C 中用來組織資料的關鍵字，當使用 struct 時，考慮的是一組資料擁有的相關性。
            </p>
            <ul style="list-style-type: decimal;list-style-position: inside;">
              以「學生」舉個例子：
              <li>學生會有姓名、年級、學號、住址、手機號碼等。</li>
              <li>若操作時經常都要傳遞同樣一組資料，可以使用 struct 來定義一個 Student型態。</li>
              <li>這個型態中包括了姓名(字串)、年級(float)、學號(字串)等資訊。</li>
              <li>接著可以使用 Student 來宣告新的資料，進行資料指定或取出等。</li>
            </ul>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
struct student {
  int id;         // 系統編號
  char name[10];  // 名字
  int grade;      // 年級
  int student_ID; // 學號
}
int main() { 

  student sam, john;
  sam.id = 0;              // 直接賦予
  scanf("%d", &john.id);   // 從螢幕讀取
  printf("Sam的ID:%d\n", sam.id);
  printf("John的ID:%d\n", john.id);

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
1
Sam的ID:0
John的ID:1</pre
            >
            <p>當然！我們不可能一筆一筆輸入，要找出他的規律，並且用程式直接將基礎資料建出來。</p>
            <p>以下是快速建立10位1年級的學生。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
struct student {
  int id;         // 系統編號
  char name[10];  // 名字
  int grade;      // 年級
  int student_ID; // 學號
}
int main() { 

  student sss[10];
    for (int i = 0; i &lt; 10; i++) {
      sss[i].id = i;
      sss[i].grade = 1;
      sss[i].student_ID = 2108410000 + i;
      printf("學生%d-系統編號:%d，%d年級，學號為：%d\n",i, sss[i].id, sss[i].grade, sss[i].student_ID);
    }

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
學生0-系統編號:0，1年級，學號為：2108410000
學生1-系統編號:1，1年級，學號為：2108410001
學生2-系統編號:2，1年級，學號為：2108410002
學生3-系統編號:3，1年級，學號為：2108410003
學生4-系統編號:4，1年級，學號為：2108410004
學生5-系統編號:5，1年級，學號為：2108410005
學生6-系統編號:6，1年級，學號為：2108410006
學生7-系統編號:7，1年級，學號為：2108410007
學生8-系統編號:8，1年級，學號為：2108410008
學生9-系統編號:9，1年級，學號為：2108410009</pre
            >
            <p>賦值方法</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
struct student {
  int id;          // 系統編號
  char name[11];   // 名字
  int grade;       // 年級
  int student_ID;  // 學號
  char bide[11];   // 眷籍
  char phone[15];  // 電話

};
int main() { 

  student sam = {0, "Sam", 1, 1234567890, "Penghu", "2108410000"};
  student john = {1, "John", 1, 1234567891, "Penghu", "2108410001"};
  student mary = {2, "Mary", 1, 1234567892, "Penghu", "2108410002"};
  printf("學生%s-系統編號：%d，%d年級，學號為：%d，眷籍:%s，電話：%s\n",sam.name,sam.id,sam.grade,sam.student_ID,sam.bide,sam.phone);
  printf("學生%s-系統編號：%d，%d年級，學號為：%d，眷籍:%s，電話：%s\n",john.name,john.id,john.grade,john.student_ID,john.bide,john.phone);
  printf("學生%s-系統編號：%d，%d年級，學號為：%d，眷籍:%s，電話：%s\n",mary.name,mary.id,mary.grade,mary.student_ID,mary.bide,mary.phone);

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
學生Sam-系統編號：0，1年級，學號為：1234567890，眷籍:Penghu，電話：2108410000
學生John-系統編號：1，1年級，學號為：1234567891，眷籍:Penghu，電話：2108410001
學生Mary-系統編號：2，1年級，學號為：1234567892，眷籍:Penghu，電話：2108410002</pre
            >
          </div>
        </div>
        <!-- =========================[C++]動態記憶體========================= -->
        <div id="1081107_02">
          <div class="artHeader">
            <div class="artTime">
              <span class="artTime">2019-11-07</span>
            </div>
            <h3>[C++]動態記憶體</h3>
          </div>
          <div class="artContent mt-1">
            <h5>◎ 動態記憶體</h5>
            <p>假如有一間銀行，他們有一套系統，一開始程式在設計時需求只有100人。後來需要1000人的規模，這時候就跟程式公司要求更改至1000人的配置，當然就是一筆費用，經過多次的更改，想必銀行花費不少。</p>
            <p>以下是一個動態記憶體設計的例子：</p>
            <ul style="list-style-type: decimal;list-style-position: inside;">
              <li>我們先看建立一個帳戶需要多少記憶體。</li>
              <li>可以看出是20位元組。</li>
            </ul>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
struct customer {
    int id;        // 系統編號
    char name[11]; // 名字
    float amount;  // 餘額
};
int main() { 

  customer *account; // 帳戶的位置
  printf("%lu\n", sizeof(customer));

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
20</pre
            >
            <ul style="list-style-type: decimal;list-style-position: inside;">
              下面就是一個良好的程式設計
              <li>需要多少帳戶，要多少記憶體。</li>
              <li>最後釋放記憶體，避免佔用導致當機。</li>
            </ul>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
struct customer {
  int id;        // 系統編號
  char name[11]; // 名字
  float amount;  // 餘額
};
int main() { 
  
  cout &lt;&lt; "請輸入需要幾個帳戶：" &lt;&lt; endl;
  int num_people;              // n個帳戶
  scanf("%d", &num_people);
  customer *account;           // 帳戶的位置
  account = (customer *)malloc(num_people * sizeof(customer)); // 跟記憶體要n個帳戶所需的位元組，存到帳戶的位置

  //賦予帳號基本參數
  for (int i = 0; i &lt;&lt; num_people; i++) {
      account[i].id = i;
      account[i].amount = 0.0;
      printf("帳戶%4d，餘額：%4.2f元\n", account[i].id, account[i].amount);
  }

  free(account); // 歸還記憶體

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
請輸入需要幾個帳戶：
20
帳戶   0，餘額：0.00元
帳戶   1，餘額：0.00元
帳戶   2，餘額：0.00元
帳戶   3，餘額：0.00元
帳戶   4，餘額：0.00元
帳戶   5，餘額：0.00元
帳戶   6，餘額：0.00元
帳戶   7，餘額：0.00元
帳戶   8，餘額：0.00元
帳戶   9，餘額：0.00元
帳戶  10，餘額：0.00元
帳戶  11，餘額：0.00元
帳戶  12，餘額：0.00元
帳戶  13，餘額：0.00元
帳戶  14，餘額：0.00元
帳戶  15，餘額：0.00元
帳戶  16，餘額：0.00元
帳戶  17，餘額：0.00元
帳戶  18，餘額：0.00元
帳戶  19，餘額：0.00元</pre
            >
            <h5>◎ new和delete</h5>
            <p>上述都是基本且比較舊的寫法，下面是現代物件導向的寫法</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  cout &lt;&lt; "請輸入需要幾個帳戶：" &lt;&lt; endl;
    int num_people;                     // n個帳戶
    scanf("%d", &num_people);
    customer *account;                  // 帳戶的位置
    account = new customer[num_people]; // 跟記憶體要n個帳戶所需的位元組，存到帳戶的位置

    //賦予帳號基本參數
    for (int i = 0; i &lt; num_people; i++)
    {
        account[i].id = i;
        account[i].amount = 0.0;
        printf("帳戶%4d，餘額：%4.2f元\n", account[i].id, account[i].amount);
    }

    delete account; // 歸還記憶體
}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
請輸入需要幾個帳戶：
20
帳戶   0，餘額：0.00元
帳戶   1，餘額：0.00元
帳戶   2，餘額：0.00元
帳戶   3，餘額：0.00元
帳戶   4，餘額：0.00元
帳戶   5，餘額：0.00元
帳戶   6，餘額：0.00元
帳戶   7，餘額：0.00元
帳戶   8，餘額：0.00元
帳戶   9，餘額：0.00元
帳戶  10，餘額：0.00元
帳戶  11，餘額：0.00元
帳戶  12，餘額：0.00元
帳戶  13，餘額：0.00元
帳戶  14，餘額：0.00元
帳戶  15，餘額：0.00元
帳戶  16，餘額：0.00元
帳戶  17，餘額：0.00元
帳戶  18，餘額：0.00元
帳戶  19，餘額：0.00元</pre
            >
          </div>
        </div>
        <!-- =========================[C++]字串========================= -->
        <div id="1081114_01">
          <div class="artHeader">
            <div class="artTime">
              <span class="artTime">2019-11-14</span>
            </div>
            <h3>[C++]字串</h3>
          </div>
          <div class="artContent mt-1">
            <h5>◎ 基本使用</h5>
            <p>字串就是把字元放置陣列。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char str[10];  // 最多存9個字元
  str[0] = 'a';
  str[1] = 'p';
  str[2] = 'p';
  str[3] = 'l';
  str[4] = 'e';
  str[5] = 0;    // 代表結束，後面在塞入的字都不會執行
  str[6] = 'd';  // 不會執行
  str[7] = 'o';  // 不會執行
  str[8] = 'g';  // 不會執行
  printf("%s", str); // 印出字串

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
apple</pre
            >
            <h5>◎ 處理字串長使用之功能</h5>
            <h6>一、回傳字串長度</h6>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char str[10];   // 最多存9個字元
  str[0] = 'a';
  str[1] = 'p';
  str[2] = 'p';
  str[3] = 'l';
  str[4] = 'e';
  str[5] = 0;     // 代表結束，後面在塞入的字都不會執行
  str[6] = 'd';   // 不會執行
  str[7] = 'o';   // 不會執行
  str[8] = 'g';   // 不會執行
  printf("%lu", strlen(str)); // 回傳字串長度並且印出

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
5</pre
            >
            <p>我們就來做一個程式，功能為：判定我們輸入的字串長度。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char input[80];

  puts("請輸入字串...");
  scanf("%s", input);

  size_t length = strlen(input);
  printf("字串長度：%lu\n", length);

  return 0;

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
請輸入字串...
installed
字串長度：9</pre
            >
            <h6>二、字串複製</h6>
            <p>主要是要講解strcpy用法：strcpy(目的字元陣列, 來源字串, 複製字元長度)。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char str[10];  // 原本字元陣列
  char goal[10]; // 目的字元陣列
  str[0] = 'a';
  str[1] = 'p';
  str[2] = 'p';
  str[3] = 'l';
  str[4] = 'e';
  str[5] = 0;
  strcpy(goal, str);  // 複製字串到目標字元陣列
  printf("%s", goal); // 印出複製完字串

}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
apple</pre
            >
            <p>既然了解基礎用法，我們就來進階一點。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char input[80];
  char copied[80];

  puts("請輸入字串...");
  fgets(input, sizeof(input) / sizeof(input[0]), stdin);

  strcpy(copied, input);
  printf("複製整個字串：%s\n", copied);

  // 重設所有字元為空字元
  memset(copied, '\0', sizeof(copied));

  strncpy(copied, input, 4);
  printf("複製部份字串：%s\n", copied);

  return 0;

}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
Justin
複製整個字串：Justin
複製部份字串：Just</pre
            >
            <h6>三、比較字串</h6>
            <p>主要是要講解strcmp用法：strcmp(比較字串1, 比較字串2)，第一個字串大於第二個字串回傳正值，反之回傳負值，如果相等則回傳0。(比較字串時，是比較當下該個字元使用ASCII code相減)。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char str[10];  // 原本字串
  char goal[10]; // 複製完後的字串
  str[0] = 'a';
  str[1] = 'p';
  str[2] = 'p';
  str[3] = 'l';
  str[4] = 'e';
  str[5] = 0;
  str[6] = 'g';
  str[7] = 0;
  strcpy(goal, str);               // 複製字串到目標
  str[5] = 'a';                    // 改變str的字串
  printf("%d", strcmp(str, goal)); // 比較字串

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
97</pre
            >
            <h6>四、字串串接</h6>
            <p>主要是要講解strcat用法：strcat(字串1, 字串2)，第二個參數會串接到第一個參數之後。</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
using namespace std;
int main() { 

  char str1[10];
  char str2[10];
  str1[0] = 'a';
  str1[1] = 'b';
  str1[2] = 'c';
  str1[3] = 0;
  str2[0] = '+';
  str2[1] = '1';
  str2[2] = '2';
  str2[3] = '3';
  str2[4] = '4';
  str2[5] = 0;
  printf("%s", strcat(str1, str2)); // 印出串接後字串

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
abc+1234</pre
            >
          </div>
        </div>
        <!-- =========================[C++]檔案操作與處理========================= -->
        <div id="1081114_02">
          <div class="artHeader">
            <div class="artTime">
              <span class="artTime">2019-11-14</span>
            </div>
            <h3>[C++]檔案操作與處理</h3>
          </div>
          <div class="artContent mt-1">
            <h5>◎ 建立一個TXT檔，並且寫入內容。</h5>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

int a = 10;
FILE *f; // 宣告一個f空間，可儲存檔案
// r = read 讀取
// w = write 寫入
// a = append 插入
f = fopen("abc.txt", "w"); // 開啟檔案abc.txt，為寫入模式
fprintf(f, "%d", a);       // 寫入檔案內容
fclose(f);                 // 關閉檔案

}</pre
            >
            <pre class="prettyprint lang-xml">
abc.txt內容結果：

10</pre
            >
            <p>要注意！若你是要在新增文字上面要使用append而不是write，使用write是複寫的意思。</p>
            <p>append</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

FILE *f;
f = fopen("abc.txt", "a"); // 開啟檔案abc.txt，為插入模式
fprintf(f, "%d", 20);      // 寫入檔案內容
fclose(f);

}</pre
            >

            <pre class="prettyprint lang-xml">
abc.txt內容結果：

1020</pre
            >
            <p>write</p>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

FILE *f;
f = fopen("abc.txt", "w"); // 開啟檔案abc.txt，為寫入模式
fprintf(f, "%d", 20);      // 寫入檔案內容
fclose(f);


}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
20</pre
            >
            <h5>◎ 讀取TXT檔內容</h5>
            <h6>範例一</h6>
            <pre class="prettyprint lang-xml">
abc.txt內容：

10
20
30
40</pre
            >
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

int a;
FILE *f; // 宣告一個f空間，可儲存檔案
// r = read 讀取
// w = write 寫入
// a = append 插入
f = fopen("abc.txt", "r"); // 開啟檔案abc.txt，為讀取模式
for (int i = 0; i &lt; 4; i++) {
fscanf(f, "%d", &a); // 從螢幕上讀取abc.txt內容並且儲存到a空間;
printf("%d\n", a);   // 印出a空間儲存數值
}
fclose(f); // 關閉檔案

}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
10
20
30
40</pre
            >
            <h6>範例二</h6>
            <pre class="prettyprint lang-xml">
abc.txt內容：

John  80
Sam   50
Mary  60
Bob   20</pre
            >
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

int a;
char s[10];
FILE *f;
f = fopen("abc.txt", "r"); // 開啟檔案abc.txt，為讀取模式
for (int i = 0; i &lt; 4; i++) {
fscanf(f, "%s", s);  // 從螢幕讀取abc.txt內容中的字串
fscanf(f, "%d", &a); // 從螢幕讀取abc.txt內容中的整數
printf("%s\t%d\n", s, a);
}
fclose(f);

}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
John  80
Sam   50
Mary  60
Bob   20</pre
            >
            <p>我們不可能每次讀取檔案都偷看txt檔案內容而去設定for迴圈要去讀取幾次，以下是正常的寫法。</p>
            <ul style="list-style-type: decimal;list-style-position: inside;">
              上面讀取txt檔的程式會遇到一個問題：
              <li>我們不可能每次讀取檔案都偷看txt檔案內容而去設定迴圈要跑幾次。</li>
              <li>知道次數的使用for迴圈，不知道次數使用while迴圈</li>
              <li>程式碼EOF的意思是End of File，檔案結束之意，其實也代表：-1。</li>
              <li>以下是txt的內容：</li>
            </ul>
            <pre class="prettyprint lang-xml">
abc.txt內容：

John     80
Sam      50
Mary     60
Bob      20
Aaliyah  90
Brook    76
Beverly  45
Caitlin  98
Daisy   100
Eden     43</pre
            >
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
int main() { 

int a;
char s[10];
FILE *f;
f = fopen("abc.txt", "r");
while (fscanf(f, "%s", s) != EOF) {
fscanf(f, "%d", &a);
printf("%s\t%d\n", s, a);
}
fclose(f);

}</pre
            >

            <pre class="prettyprint lang-sh">
輸出結果：
John     80
Sam      50
Mary     60
Bob      20
Aaliyah  90
Brook    76
Beverly  45
Caitlin  98
Daisy   100
Eden     43</pre
            >
            <h5 id="exam_13" style="color: red">➣考題： 學生成績資料處理</h5>
            <p>下列內容是學生之平時成績(40%)、期中考(30%)、期末考(30%)，利用程式產製總成績。</p>
            <pre class="prettyprint lang-xml">
student.txt內容：

Wendy 60  76  28
Angie 61  78  58
Robyn 24  45  44
Ronan 67  32  48
Anne  57  89  70
Lisa  28  88  72
</pre
            >
            <ul style="list-style-type: decimal;list-style-position: inside;">
              上述資料使用程式處理：
              <li>首先，用程式寫出產製上述student.txt內容。</li>
              <li>讀取有效資料。</li>
              <li>進行資料處理。</li>
              <li>產製結果。</li>
            </ul>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;

/* ==副程式：學生成績-功能樣板== */
struct student {
  char name[10];  // 學生姓名(可放9個字的字串)
  float score[4]; // 學生成績(平時成績、期中考、期末考、總成績)
};

/* ==副程式：學生成績比重-功能樣板== */
float w[3] = {0.4, 0.3, 0.3}; // 平時成績(40%)、期中考(30%)、期末考(30%)

/* ==主程式== */
int main() { 

  FILE *f; // 宣告一個f空間，可儲存檔案

  /* ==生產檔案== */
  f = fopen("student.txt", "w"); // 開啟檔案abc.txt，為寫入模式
  // 寫入資料
  fprintf(f, "Wendy\t60\t76\t28\n");
  fprintf(f, "Angie\t61\t78\t58\n");
  fprintf(f, "Robyn\t24\t45\t44\n");
  fprintf(f, "Ronan\t67\t32\t48\n");
  fprintf(f, "Anne\t57\t89\t70\n");
  fprintf(f, "Lisa\t28\t88\t72\n");
  fclose(f);  // 關閉檔案

  /* ==確認有效資料並且記錄次數== */
  student check_data;            // 產製一個名叫check_data的student模板空間
  int n = 0;                     // 計算「有效資料數」次數
  f = fopen("student.txt", "r"); // 讀取student.txt內容(代表符號：f)
  // 從螢幕讀取f，並且把文件「名字」丟入check_data之name的位置(迴圈執行條件是：名字數值不等於「檔案結束」)
  while (fscanf(f, "%s", check_data.name) != EOF) {
      n++; // 達成條件就計算「資料數」次數
      // 讓讀取游標繼續讀完該行
      for (int i = 0; i &lt; 3; i++) {
          fscanf(f, "%f", &(check_data.score[i])); // 讀取該陣列位置之各個分數
      }
  }
  fclose(f); // 關閉檔案

  /* ==資料處理== */
  // 記憶體處理
  student *data_deal;         //「資料處理」位置的student模板空間
  data_deal = new student[n]; // 跟記憶體要n個「學生成績」所需的位元組，存到「資料處理」的位置
  // 讀取資料並且處理
  f = fopen("student.txt", "r"); // 讀取student.txt內容(代表符號：f)
  for (int i = 0; i &lt; n; i++) {
      fscanf(f, "%s", data_deal[i].name); // 從螢幕讀取f，並且把文件「名字」丟入data_deal之name的位置
      data_deal[i].score[3] = 0;          // 將「總成績」歸零
      for (int j = 0; j &lt; 3; j++) {
          fscanf(f, "%f", &(data_deal[i].score[j]));             // 讀取該陣列位置之各個分數(第一位第一個成績，第二個成績....)
          data_deal[i].score[3] += data_deal[i].score[j] * w[j]; // 把權重計算完塞到總成績
      }
  }
  fclose(f); // 關閉檔案

  /* ==生產結果== */
  f = fopen("output.txt", "w"); // 寫入output.txt內容
  for (int i = 0; i &lt; n; i++) {
      // 依序寫入：姓名、總成績
      fprintf(f, "%s\t%5.1f分\n", data_deal[i].name, data_deal[i].score[3]);
  }
  fclose(f);        // 關閉檔案

  delete data_deal; // 釋放記憶體

}</pre
            >
            <pre class="prettyprint lang-xml">
output.txt內容：

Wendy	 55.2分
Angie	 65.2分
Robyn	 36.3分
Ronan	 50.8分
Anne	 70.5分
Lisa	 59.2分</pre
            >
          </div>
        </div>
        <!-- =========================[C++]應用-讓電腦猜數字========================= -->
        <div id="1081128_01">
          <div class="artHeader">
            <div class="artTime">
              <span class="artTime">2019-11-28</span>
            </div>
            <h3>[C++]應用-讓電腦猜數字</h3>
          </div>
          <div class="artContent mt-1">
            <h6>設計一個程式，使用者在心裡想一個數字，讓電腦猜，並且說出幾A幾B，讓電腦最終猜出答案。</h6>
            <pre class="prettyprint lang-cpp linenums:1">
#include &lt;iostream&gt;
#include &lt;time.h&gt;

int possible[10000]; // 判定數字可不可能，1是可能，0是不可能。

// 判定4位數的哪個位數
int position(int n, int i) {
    switch (i) {
    case 0: // 千位數
        return n / 1000;
    case 1: // 百位數
        return (n / 100) % 10;
    case 2: // 十位數
        return (n % 100) / 10;
    case 3: // 個位數
        return n % 10;
    }
    return 0;
}

// 初始化
void init() {
    for (int i = 0; i &lt; 10000; i++) {
        possible[i] = 1; // 將所有可能的數字都設定成有可能

        // 開始隨邊猜一個數字
        for (int j = 0; j &lt; 3; j++) {
            for (int k = j + 1; k &lt; 4; k++) {
                // 如果重複，就將它設定為不可能
                if (position(i, j) == position(i, k)) {
                    possible[i] = 0;
                }
            }
        }
    }
}

// 比較數字
int compare(int n, int m) {
    int A = 0;
    int B = 0;

    for (int i = 0; i &lt; 4; i++) {
      for (int j = 0; j &lt; 4; j++){
        if (position(n, i) == position(m, j)) {
          if (i == j) {
              A++;
          }
          else {
              B++;
          }
        }
      }
    }
    return A * 10 + B;
}

// 猜數字
void make_guess(char guess[], int A, int B) {
    // 把猜的數字轉變成整數
    int n = guess[0] * 1000 + guess[1] * 100 + guess[2] * 10 + guess[3];

    //如果數值不等於0執行猜所有可能數字
    if (n != 0) {
        for (int i = 0; i &lt; 10000; i++) {
            // 如果沒猜對就將數列為不可能
            if (possible[i] && compare(n, i) != A * 10 + B) {
                possible[i] = 0;
            }
        }
    }

    // 尋找可能的數字
    int find = 0; // 將「尋找正確數字」條件初始為零
    // 如果「尋找正確數字」等於零就繼續猜數字
    while (find == 0) {
        int n = rand() % 10000; // 利用亂數亂猜
        // 把數字挑出來塞到4位數
        for (int i = 0; i &lt; 4; i++) {
            guess[i] = position(n, i);
        }
        // 如果是可能就會賦值為true，跳出迴圈
        find = possible[n];
    }
}
int main() { 

  init();    // 遊戲初始化
    int A = 0; // 玩家輸入A初始為零
    int B = 0; // 玩家輸入B初始為零
    char guess[4] = {0, 0, 0, 0};

    srand(time(NULL)); // 設定亂數種子
    rand();            // 再洗牌一次

    // 如果玩家輸入A小於4就會一直執行程式猜下去
    while (A &lt; 4) {
        make_guess(guess, A, B); // 以參數A與B條件去猜數字
        // 把結果打印處來
        printf("電腦猜：");
        for (int i = 0; i &lt; 4; i++) {
            printf("%c", guess[i] + '0');
        }

        // 猜完給玩家輸入條件，讓電腦繼續猜
        printf("\nA=");
        scanf("%d", &A);
        printf("B=");
        scanf("%d", &B);
    }
    printf("GAME OVER!\n"); // 當A等於4時遊戲結束

}</pre
            >
            <pre class="prettyprint lang-sh">
輸出結果：
電腦猜：4659
A=1
B=1
電腦猜：5719
A=2
B=1
電腦猜：5129
A=1
B=3
電腦猜：2519
A=4
B=0
GAME OVER!</pre
            >
          </div>
        </div>
        <!-- |文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束|文章結束| -->
      </article>
      <footer class="text-center">
        Copyright 2019 趙德柱 All rights reserved.
      </footer>
    </div>
    <script src="https://www.gstatic.com/firebasejs/7.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.0.1/firebase-database.js"></script>
    <script src="./js/initDB.js"></script>
    <script src="./js/main.js"></script>
    <script src="./js/scroll.js"></script>
  </body>
</html>
